collector_name: doris_table_stats

metrics:
  - metric_name: doris_table_data_bytes
    type: gauge
    help: "Data length reported by information_schema.tables in Apache Doris."
    key_labels: [schema, table_name]
    values: [data_bytes]
    query: |
      SELECT
        table_schema AS schema,
        table_name AS table_name,
        DATA_LENGTH AS data_bytes
      FROM information_schema.tables
      WHERE table_schema NOT IN ('information_schema', 'mysql', '__internal_schema');

  - metric_name: doris_table_row_count
    type: gauge
    help: "Estimated row count reported by information_schema.tables in Apache Doris."
    key_labels: [schema, table_name]
    values: [row_count]
    query: |
      SELECT
        table_schema AS schema,
        table_name AS table_name,
        TABLE_ROWS AS row_count
      FROM information_schema.tables
      WHERE table_schema NOT IN ('information_schema', 'mysql', '__internal_schema');
