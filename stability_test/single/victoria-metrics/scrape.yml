global:
  scrape_interval: 30s
  scrape_timeout: 10s
scrape_configs:
  - job_name: victoriametrics
    static_configs:
      - targets: [ "victoria-metrics:8428" ]
  - job_name: victorialogs_internal
    metrics_path: /metrics
    static_configs:
      - targets: [ "victoria-logs-1:9428" ]
        labels:
          instance: "victoria-logs-1"

  - job_name: "kafka"
    metrics_path: /metrics
    static_configs:
      - targets: ["kafka-exporter-1:9308"]
        labels:
          instance: "kafka-exporter-1"

  - job_name: "mysql"
    metrics_path: /metrics
    static_configs:
      - targets: ["mysqld-exporter-1:9104"]
        labels:
          instance: "mysqld-exporter-1"

  - job_name: "doris"
    metrics_path: /metrics
    static_configs:
      - targets: ["host.docker.internal:19399"]
        labels:
          instance: "doris-sql-exporter-1"

  - job_name: "victorialogs-script"
    metrics_path: /probe
    params:
      script: ["victorialogs_count"]
      key: ["src"]
    static_configs:
      - targets: ["vlogs-script-exporter-1:9469"]
        labels:
          instance: "vlogs-script-exporter-1"
    scrape_timeout: 15s
