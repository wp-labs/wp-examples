## 需求
我运行了一个日志分发系统，我需要对这个系统完成两件事：
- 可观测性
- 对系统的巡检

### 系统背景
我们的的分发系统叫做wparse
系统的输入源有3个：kafka、tcp、syslog
输出源有5个：file、kafka、mysql、doris、victoria-logs

### 可观测性
- 整个系统系统结构图
- 我们每个输入源收到的数据量
- 我们每个输出源应该发送的数据量
- 我们输出源实际到达的数量
- wparse以及每个输出源的运行状态、
- 每个输出源与实际到达数量与预期数量偏差（百分比、保留两位）

### 巡检
目的：对系统部分组件进行重启、统计重启数据偏差。主要包含如下功能：
- 巡检报表功能，展示：
  - 历史的报表
  - 统计组件重启耗时
  - 根据可观测性系统，展示预期到达值、实际到达值、偏差率。

## 原型与用例设计
### 系统结构图用例
图中展示所有输入源、输出源、每个输出源以及wparse的运行状态，每个输出源的预期数量、实际数量、偏差率、每个输入源收到的数量。
单击每个输入源、或者组件、会显示该组件近1分钟的发送趋势图、或者接收趋势图。

### 巡检用例图
1. 展示巡检次数、重启耗时、平均耗时、平均偏差率。
2. 展示巡检表格：表格包含日期、耗时、偏差率、偏差率最大组件。
    - 记录详情：该巡检所有组件的重启耗时、预期值、实际到达值、偏差率。